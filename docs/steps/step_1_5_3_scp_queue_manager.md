# –®–∞–≥ 1.5.3: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ QueueManager –¥–ª—è SCP –æ–ø–µ—Ä–∞—Ü–∏–π

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –®–∞–≥ 1.5.1 (TaskType –¥–ª—è SCP), –®–∞–≥ 1.5.2 (–ú–µ—Ç–æ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SCP –∑–∞–¥–∞—á)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è:** 30-45 –º–∏–Ω—É—Ç  
**–≠—Ç–∞–ø:** 1 (–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —à–∞–≥–∏)

## üìã –ó–∞–¥–∞—á–∞ —à–∞–≥–∞

–†–∞—Å—à–∏—Ä–∏—Ç—å QueueManager –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ SCP/SSH –æ–ø–µ—Ä–∞—Ü–∏–π. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è SCP/SSH –∑–∞–¥–∞—á —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

## üìÅ –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã:
- –ù–µ—Ç

### –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:
- `ai_admin/queue/queue_manager.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è SCP/SSH –∑–∞–¥–∞—á

## üîß –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ QueueManager
–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è SCP/SSH –∑–∞–¥–∞—á:
- `add_scp_upload_task()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ SCP upload –∑–∞–¥–∞—á–∏
- `add_scp_download_task()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ SCP download –∑–∞–¥–∞—á–∏
- `add_scp_sync_task()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ SCP sync –∑–∞–¥–∞—á–∏
- `add_ssh_execute_task()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ SSH execute –∑–∞–¥–∞—á–∏
- `add_ssh_connect_task()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ SSH connect –∑–∞–¥–∞—á–∏

### 2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–∞—á
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è SCP/SSH –æ–ø–µ—Ä–∞—Ü–∏–π:
- host, port, username, password, key_file
- local_path, remote_path –¥–ª—è SCP –æ–ø–µ—Ä–∞—Ü–∏–π
- command –¥–ª—è SSH –æ–ø–µ—Ä–∞—Ü–∏–π
- recursive, preserve_attributes –¥–ª—è SCP
- timeout, retry_count –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 3. –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ç–µ–≥–∏
–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—é –∏ —Ç–µ–≥–∏ –¥–ª—è SCP/SSH –∑–∞–¥–∞—á:
- category: "scp" –∏–ª–∏ "ssh"
- tags: ["scp", "upload", "file-transfer"] –∏–ª–∏ ["ssh", "command", "remote-execution"]

## üíª –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ai_admin/queue/queue_manager.py
–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è SCP/SSH –∑–∞–¥–∞—á:
- `add_scp_upload_task()` - —Å–æ–∑–¥–∞–Ω–∏–µ SCP upload –∑–∞–¥–∞—á–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (host, username, local_path, remote_path, port, key_file, password, recursive, preserve_attributes, timeout, retry_count)
- `add_scp_download_task()` - —Å–æ–∑–¥–∞–Ω–∏–µ SCP download –∑–∞–¥–∞—á–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- `add_scp_sync_task()` - —Å–æ–∑–¥–∞–Ω–∏–µ SCP sync –∑–∞–¥–∞—á–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (direction, delete_extra)
- `add_ssh_execute_task()` - —Å–æ–∑–¥–∞–Ω–∏–µ SSH execute –∑–∞–¥–∞—á–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (host, username, command, port, key_file, password, timeout, retry_count)
- `add_ssh_connect_task()` - —Å–æ–∑–¥–∞–Ω–∏–µ SSH connect –∑–∞–¥–∞—á–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å Task –æ–±—ä–µ–∫—Ç—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ task_type, category –∏ tags

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —à–∞–≥–∞:
- [ ] **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ add_scp_upload_task** —Å –ø–æ–ª–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- [ ] **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ add_scp_download_task** —Å –ø–æ–ª–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- [ ] **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ add_scp_sync_task** —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- [ ] **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ add_ssh_execute_task** —Å –ø–æ–ª–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- [ ] **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ add_ssh_connect_task** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- [ ] **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** (host, port, username, password, key_file, paths, command, timeout, retry_count)
- [ ] **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è** (category: "scp" –∏–ª–∏ "ssh")
- [ ] **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–µ–≥–∏** –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- [ ] **–°–æ–∑–¥–∞–Ω–∏–µ Task –æ–±—ä–µ–∫—Ç–æ–≤** —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ task_type
- [ ] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤** —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–µ docstrings —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] **–ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ª–∏–Ω—Ç–µ—Ä—ã** (flake8, mypy, black)

### –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:
- [ ] **–ö–æ–¥ –í–°–ï–• —à–∞–≥–æ–≤ —Å –Ω–æ–º–µ—Ä–æ–º —Ç–∞–∫–∏–º –∂–µ, –∏–ª–∏ –Ω–∏–∂–µ –≤ –ø–ª–∞–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ü–û–õ–ù–û–°–¢–¨–Æ**
- [ ] **–ü—Ä–æ—à–µ–ª –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏**
- [ ] **–ü–æ–∫—Ä—ã—Ç–∏–µ –ö–ê–ñ–î–û–ì–û —Ñ–∞–π–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä–æ—ã–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —É–∂–µ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º —à–∞–≥–∞–º –Ω–µ –Ω–∏–∂–µ 90%+**
- [ ] **–ü–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ –±—ã–ª–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∞ –ü–û–õ–ù–ê–Ø –∏ —Ç—â–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞**
- [ ] **–í –∫–æ–¥–µ –æ—Ç—Å—É—Ç—Å–≤—Ç—É–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥**

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —à–∞–≥–∏

- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –®–∞–≥ 1.5.1 (TaskType –¥–ª—è SCP), –®–∞–≥ 1.5.2 (–ú–µ—Ç–æ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SCP –∑–∞–¥–∞—á)
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** –®–∞–≥ 1.5.4 (SSHClientCommand), –®–∞–≥ 1.5.5 (SCPClientCommand), –®–∞–≥ 1.5.6 (Unit-—Ç–µ—Å—Ç—ã)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Queue Management Patterns](https://docs.python.org/3/library/queue.html)
- [Task Queue Best Practices](https://docs.celeryproject.org/en/stable/userguide/tasks.html)
